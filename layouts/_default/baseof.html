<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{{ if .Title }}{{ .Title }} | {{ .Site.Title }}{{ else }}{{ .Site.Title }}{{ end }}</title>
	{{/* Description fallback: page .Description -> site param description -> cascade description */}}
	{{ $desc := cond (ne .Description "") .Description (cond (isset .Site.Params "description") .Site.Params.description
	(.Site.Params.description)) }}
	<meta name="description" content="{{ $desc }}" />
	{{/* Canonical */}}
	<link rel="canonical" href="{{ .Permalink }}" />
	{{/* Open Graph & Twitter (use params if provided) */}}
	{{ $ogImage := (printf "%simg/lento_preview.png" .Site.BaseURL) }}
	{{ with .Params.ogImage }}{{ $ogImage = . }}{{ end }}
	<meta property="og:title"
		content="{{ if .Title }}{{ .Title }} | {{ .Site.Title }}{{ else }}{{ .Site.Title }}{{ end }}" />
	<meta property="og:description" content="{{ $desc }}" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="{{ .Permalink }}" />
	<meta property="og:image" content="{{ $ogImage }}" />
	<meta property="og:site_name" content="{{ .Site.Title }}" />
	<meta property="og:locale" content="en_US" />
	<meta name="twitter:card" content="summary_large_image" />
	{{ with .Site.Params.twitterHandle }}
	<meta name="twitter:site" content="@{{ . }}" />{{ end }}
	<meta name="twitter:title"
		content="{{ if .Title }}{{ .Title }} | {{ .Site.Title }}{{ else }}{{ .Site.Title }}{{ end }}" />
	<meta name="twitter:description" content="{{ $desc }}" />
	<meta name="twitter:image" content="{{ $ogImage }}" />
	<link rel="icon" href="/favicon.ico" />
	{{/* External CSS libs reused */}}
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Numans&family=Roboto:wght@300;400;500;700;900&display=swap"
		rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@codolog/form@1.0.0/dist/form.min.css" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet" />
	{{/* Hugo SCSS pipeline */}}
	{{ $scss := resources.Get "scss/main.scss" }}
	{{ if $scss }}
	{{ $css := $scss | toCSS | minify | fingerprint }}
	<link rel="stylesheet" href="{{ $css.RelPermalink }}" />
	{{ else }}
	<!-- Warning: assets/scss/main.scss not found -->
	{{ end }}
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
	{{ with .Site.Params.googleAnalyticsID }}
	<script async src="https://www.googletagmanager.com/gtag/js?id={{ . }}"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', '{{ . }}');
	</script>
	{{ end }}
	{{ block "head" . }}{{ end }}
</head>

<body>
	{{/* Unified header (was willsoft/header and header duplication) */}}
	{{ partial "header.html" . }}

	{{/* Optional Hero Section (from willsoft layout). Only render if heroTitle param present) */}}
	{{ $root := . }}
	{{ with .Params.heroTitle }}
	<div class="hero {{ $root.Site.Params.heroBaseClass }} {{ $root.Params.heroClass }}">
		<div class="container hero-content {{ if or $.Params.heroSmall (and (not $.Params.heroLarge) (ne $.File.LogicalName "_index.md")) }}hero-content-small{{ end }}">
			<h1 class="hero-title">{{ $.Params.heroTitle }}</h1>
			{{ with $.Params.heroLead }}<p class="hero-lead">{{ . | safeHTML }}</p>{{ end }}
			{{ if $.Params.heroButtons }}
			<p class="center m0">
				{{ range $.Params.heroButtons }}<a class="btn {{ .class }}" href="{{ .href }}">{{ .text }}</a>{{ end }}
			</p>
			{{ end }}
			{{ with $.Params.heroSub }}<br />
			<p>{{ . | safeHTML }}</p>{{ end }}
		</div>
	</div>
	{{ end }}

	<main class="container">
		{{ block "main" . }}{{ .Content }}{{ end }}
	</main>
	{{ partialCached "footer.html" . }}
	{{/* Legacy script includes from willsoft layout */}}
	<script src="/js/cookies.js" defer></script>
	<script src="/js/hamburger.js" defer></script>
	<script src="/js/typewriter.js" defer></script>
	{{ block "scripts" . }}{{ end }}
</body>

</html>